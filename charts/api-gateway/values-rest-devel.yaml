main_app:
  http_https_echo: true

  domains:
    - localhost
    - localhost:*
    - 127.0.0.1
    - 127.0.0.1:*
    - restgateway.discovery.wmnet

  restbase_routes:
    mobileapps:
      hostname: mobileapps.discovery.wmnet
      urls:
        #TODO tighten capture group criteria
        ma_mobile_no_revision:
          in: '(.+)/v1/page/mobile-html/(.+)'
          out: '\1/v1/page/mobile-html/\2'
        ma_mobile_revision:
          in: '(.+)/v1/page/mobile-html/(.+)/(.+)'
          out: '\1/v1/page/mobile-html/\2/\3'
        ma_summary_no_revision:
          in: '(.+)/v1/page/summary/(.+)'
          out: '\1/v1/page/summary/\2'
        ma_summary_revision:
          in: '(.+)/v1/page/summary/(.+)/(.+)'
          out: '\1/v1/page/summary/\2/\3'

  discovery_endpoints:
    mobileapps:
      tls: false
      port: 8888 #4102
      internal_host: localhost
      timeout: 30s
      host: localhost
