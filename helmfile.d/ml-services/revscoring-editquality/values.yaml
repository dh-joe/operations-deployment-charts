docker:
  registry: docker-registry.discovery.wmnet/wikimedia
  imagePullPolicy: IfNotPresent

networkpolicy:
  egress:
    enabled: true
    # We should use the egress gateway by default to call endpoints.
    # In this case, we allow the pods to call the Swift endpoint directly.
    dst_nets:
      - cidr: 10.2.1.54/32 # thanos-swift.svc.codfw.wmnet
        ports:
        - port: 443
          protocol: tcp
      - cidr: 10.2.2.54/32 # thanos-swift.svc.eqiad.wmnet
        ports:
        - port: 443
          protocol: tcp

monitoring:
  enabled: true

inference:
  annotations:
    sidecar.istio.io/inject: "false"
  s3_storage_base_uri: "s3://wmf-ml-models"
  predictor:
    image: "machinelearning-liftwing-inference-services-editquality"
    version: "2022-02-17-100432-publish"
    base_env:
      - name: WIKI_URL
        value: "https://istio-egressgateway.istio-system.svc.cluster.local"
      - name: REQUESTS_CA_BUNDLE
        value: "/etc/ssl/certs/wmf-ca-certificates.crt"

revscoring_inference_services:
  - wiki: "ar"
    model: "damaging"
    version: "20220214192124"
  - wiki: "ar"
    model: "goodfaith"
    version: "20220214192125"
  - wiki: "bn"
    model: "reverted"
    version: "20220214192126"
  - wiki: "bs"
    model: "damaging"
    version: "20220214192128"
  - wiki: "bs"
    model: "goodfaith"
    version: "20220214192131"
  - wiki: "ca"
    model: "damaging"
    version: "0220214192132"
  - wiki: "ca"
    model: "goodfaith"
    version: "20220214192134"
  - wiki: "cs"
    model: "damaging"
    version: "20220214192135"
  - wiki: "cs"
    model: "goodfaith"
    version: "20220214192137"
  - wiki: "de"
    model: "damaging"
    version: "20220214192138"
  - wiki: "de"
    model: "goodfaith"
    version: "20220214192139"
  - wiki: "en"
    model: "goodfaith"
    version: "202105140814"
  - wiki: "en"
    model: "damaging"
    version: "202105260914"
  - wiki: "el"
    model: "reverted"
    version: "20220214192140"
  - wiki: "enwiktionary"
    model: "reverted"
    host: en.wiktionary.org
    version: "0220214192146"
  - wiki: "eswikibooks"
    model: "damaging"
    host: es.wikibooks.org
    version: "20220214192149"
  - wiki: "eswikibooks"
    model: "goodfaith"
    host: es.wikibooks.org
    version: "20220214192150"
  - wiki: "es"
    model: "damaging"
    version: "0220214192151"
  - wiki: "es"
    model: "goodfaith"
    version: "20220214192152"
  - wiki: "eswikiquote"
    model: "damaging"
    host: es.wikiquote.org
    version: "20220214192153"
  - wiki: "eswikiquote"
    model: "goodfaith"
    host: es.wikiquote.org
    version: "20220214192155"
  - wiki: "et"
    model: "damaging"
    version: "20220214192156"
  - wiki: "et"
    model: "goodfaith"
    version: "20220214192158"
  - wiki: "fa"
    model: "damaging"
    version: "0220214192200"
  - wiki: "fa"
    model: "goodfaith"
    version: "20220214192201"
  - wiki: "fi"
    model: "damaging"
    predictor:
    version: "20220214192203"
  - wiki: "fi"
    model: "goodfaith"
    version: "20220214192206"
  - wiki: "fr"
    model: "damaging"
    version: "20220214192208"
  - wiki: "fr"
    model: "goodfaith"
    version: "20220214192209"
  - wiki: "gl"
    model: "reverted"
    version: "20220214192210"
  - wiki: "he"
    model: "damaging"
    version: "20220214192211"
  - wiki: "he"
    model: "goodfaith"
    version: "20220214192215"
  - wiki: "hi"
    model: "damaging"
    version: "20220214192216"
  - wiki: "hi"
    model: "goodfaith"
    version: "20220214192218"
