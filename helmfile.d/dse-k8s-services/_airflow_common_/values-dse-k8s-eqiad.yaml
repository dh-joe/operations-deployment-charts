docker:
  registry: docker-registry.discovery.wmnet

app:
  version: &base-image-version 2024-11-05-131346-0fc1fb8e6bd426fae9e5ecdfeba9c920900a28bf@sha256:fc38cca66e8617a847089a13bf04aa5542c6bedbadc4bde7d4bafbe3f6684a5e
  executor_pod_image_version: *base-image-version

service:
  deployment: production

config:
  airflow:
    dbHost: 'an-db1001.eqiad.wmnet'
    config:
      datahub:
        cluster: prod
        conn_id: datahub_gms_prod
        enabled: true
  connections:
    s3_dpe:
      extra:
        endpoint_url: https://rgw.eqiad.dpe.anycast.wmnet
        region_name: dpe
    datahub_gms_prod:
      conn_type: datahub-rest
      host: http://datahub-gms-production.datahub.svc:8080
  oidc:
    idp_server: idp.wikimedia.org

external_services:
  kerberos: [kdc]
  cas: [idp]
  s3: [eqiad-dpe]

gitsync:
  image_tag: 2024-08-22-120818-fbafbcdb385bf1008ba0ac8ee350e9fe411a057d@sha256:3e01121704b405a08649012571aba0ce6834ab3aa3428df0b02a476b7ba4c3f5
  volume:
    storage_class: ceph-cephfs-ssd

kerberos:
  volume:
    storage_class: ceph-cephfs-ssd
