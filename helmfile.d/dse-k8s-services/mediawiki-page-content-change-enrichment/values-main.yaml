# WMF produciton main release cluster specific values.
# These are kept out of the primary values.yaml just so that it is easier to use
# with local development.

app:
  jobManager:
    resource:
      memory: 2048m

  taskManager:
    resource:
      memory: 3072m

mesh:
  enabled: false

networkpolicy:
  egress:
    enabled: true
    dst_nets:
      # Allow schema.svc.{eqiad,codfw}.
      # TODO: When we deploy this to production wikikube, we should
      # bake the schema repo into the app image just like we do for eventgate-main.
      - cidr: 10.2.2.43/32 # schema.svc.eqiad.wmnet
        ports:
        - protocol: tcp
          port: 8190
        - protocol: tcp
          port: 443
      - cidr: 10.2.1.43/32 # schema.svc.codfw.wmnet
        ports:
        - protocol: tcp
          port: 8190
        - protocol: tcp
          port: 443
