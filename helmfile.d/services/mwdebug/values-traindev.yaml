# These values are suitable for running using the mediawiki chart in the train-dev environment.
# https://gerrit.wikimedia.org/g/mediawiki/tools/train-dev

main_app:
  requests:
    cpu: 1000m
    memory: 1000Mi
  limits:
    cpu: 2000m
    memory: 2000Mi

resources:
  replicas: 1

service:
  deployment: minikube

config:
  public:
    MW_DEBUG_LOCAL: "1"

tls:
  enabled: false

monitoring:
  enabled: false

networkpolicy:
  egress:
    enabled: false

php:
  servergroup: main
  # Values for local development
  devel_mode: true
  opcache:
    size: "200" # Megabytes. Probably needs a boost in production
    nofiles: "1000" # Number of files. Definitely needs a boost in production
    interned_strings_buffer: "10" # Megabytes. Memory used to store identical strings
# See the dockerfiles for the php-fpm base image to know what can be tweaked.
# Those can be passed via config.public above.


mw:
  datacenter: dev
  localmemcached:
    enabled: true
  mcrouter:
    enabled: false

# Deploy to any node
affinity: null
