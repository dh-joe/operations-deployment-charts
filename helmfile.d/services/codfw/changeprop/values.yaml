main_app:
  version: v0.9.5

  limits:
    memory: 1000Mi

  purge_host: 239.128.0.112

  event_service_uri: https://eventgate-main.discovery.wmnet:4492/v1/events

  log_level: info

  site: codfw

  mwapi_uri: http://api-rw.discovery.wmnet/w/api.php

  restbase_uri: http://restbase-async.discovery.wmnet:7231

  ores:
    uris:
    - http://ores.svc.eqiad.wmnet:8081
    - http://ores.svc.codfw.wmnet:8081

  kafka:
    broker_list:
      - kafka-main2001.codfw.wmnet:9093
      - kafka-main2002.codfw.wmnet:9093
      - kafka-main2003.codfw.wmnet:9093
    ssl: true

  redis:
    host: localhost
    port: 6379

  cp_features:
    mw_purge_null_edit: true
    summary_definition_rerender: true
    page_edit: true
    revision_visibility_change: true
    page_delete: true
    page_restore: true
    page_move: true
    page_create: true
    on_backlinks_update: true
    ores_cache: true
    wikidata_description_on_edit: true
    wikidata_description_on_undelete: true
    page_images_summary: true
    page_images_mobile: true
    rerendered_pcs_endpoints: true
    purge_varnish: false
    on_transclusion_update: false

nutcracker:
  enabled: true
  servers:
    - rdb2003.codfw.wmnet:6379:1 "cp-1"
    - rdb2005.codfw.wmnet:6379:1 "cp-2"

monitoring:
  enabled: true
  image_version: 0.0.5

resources:
  replicas: 12

service:
  deployment: "production"
  port:
    nodePort: 7272
