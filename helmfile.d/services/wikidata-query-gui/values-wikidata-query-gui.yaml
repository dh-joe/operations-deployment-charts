main_app:
  volumeMounts:
    - name: wikidata-custom-config
      mountPath: /srv/app/html/custom-config.json
      subPath: custom-config.json

# additional configmaps which can be mounted in the application container
configMaps:
  wikidata-custom-config:
    custom-config.json: |-
      {
        "api": {
          "sparql": {
            "uri": "/sparql"
            },
          "urlShortener": "wmf"
        },
        "brand": {
          "logo": "logo.svg",
          "favicon": "favicon.ico",
          "title": "Wikidata Query Service",
          "copyrightUrl": "https://www.wikidata.org/wiki/Special:MyLanguage/Wikidata:SPARQL_query_service/Copyright"
        },
        "location": {
          "root": "https://query.wikidata.org/",
          "index": "https://query.wikidata.org/"
        },
        "bannerName": "graph-split"
      }

ingress:
  enabled: true
  gatewayHosts:
    extraFQDNs:
    - query.wikidata.org
    - query-main.wikidata.org
    - query-scholarly.wikidata.org
    - query-legacy-full.wikidata.org
    # service should not be reachable via the gateway hosts generated by default
    disableDefaultHosts: true
  routeHosts:
  - query.wikidata.org
  httproutes:
  - match:
    - uri:
        prefix: /
    route:
    - destination:
        host: miscweb-wikidata-query-gui-tls-service.wikidata-query-gui.svc.cluster.local
        port:
          number: 8081