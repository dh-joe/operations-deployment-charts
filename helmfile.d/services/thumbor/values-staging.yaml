resources:
  replicas: 1

# We don't mind temporarily having 0 nodes in staging
strategy:
  maxUnavailable: "100%"

main_app:
  swift:
    # swift-eqiad service proxy
    host: 'https://swift.discovery.wmnet'
  poolcounter:
    enabled: true
    server: "poolcounter1004.eqiad.wmnet"
  thumbor_workers: 2

  log_level: "debug"

mesh:
  enabled: false

nutcracker:
  servers:
    - ip: 10.64.16.56 # thumbor1001
      port: 11211
      weight: 1
      db: "shard01"
    - ip: 10.64.16.57 # thumbor1002
      port: 11211
      weight: 1
      db: "shard02"
    - ip: 10.64.0.161 # thumbor1005
      port: 11211
      weight: 1
      db: "shard05"
    - ip: 10.64.32.149 # thumbor1006
      port: 11211
      weight: 1
      db: "shard06"

cache:
  mcrouter:
    enabled: true
    route_prefix: eqiad/thumbor
    zone: eqiad
    routes:
      - route: /eqiad/thumbor
        pool: eqiad-servers
        failover_time: 600
