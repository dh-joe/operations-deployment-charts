main_app:
  conf:
    kafka:
      conf:
        metadata.broker.list: kafka-jumbo1001.eqiad.wmnet:9092,kafka-jumbo1002.eqiad.wmnet:9092,kafka-jumbo1003.eqiad.wmnet:9092,kafka-jumbo1004.eqiad.wmnet:9092,kafka-jumbo1005.eqiad.wmnet:9092,kafka-jumbo1006.eqiad.wmnet:9092
    schema_precache_uris:
    - /error/0.0.3
    - /test/event/0.0.3
    - /mediawiki/api/request/0.0.1
    - /mediawiki/cirrussearch/request/0.0.1
    topic_prefix: eqiad.

    # /srv/service/schemas/mediawiki-event-schemas is in the eventgate image cloned at
    # image build time from https://gerrit.wikimedia.org/r/mediawiki/event-schemas.
    # http://schema.svc hosts a more up to date clone of this (and other) event schema repositories.
    # Both of these will be used when looking up schemas.
    schema_base_uris:
    - 'file:///srv/service/schemas/mediawiki-event-schemas/jsonschema/'
    - 'http://schema.svc.eqiad.wmnet:8190/repositories/mediawiki/jsonschema/'

  stream_config:
    mediawiki.api-request:
      schema_title: mediawiki/api/request
    mediawiki.cirrussearch-request:
      schema_title: mediawiki/cirrussearch/request
  version: 2019-07-18-154717-production
resources:
  replicas: 20
service:
  deployment: production
  port: 31192
