app:
  config_files:
    app.config.yaml:
      pipeline.name: cirrus-streaming-updater-consumer-devnull-staging
      kafka-source-config.group.id: cirrus-streaming-updater-consumer-devnull-staging
      fetch-error-topic: eqiad.cirrussearch.update_pipeline.fetch_error
      # The normal .*= route ends up catching the elasticsearch urls above.
      # Define a relforge route that doesn't change anything to avoid that.
      http-routes.99-mwapi: .*=http://localhost:6500
      # Suspect this is not only retries, but also events that skip fetch. Provide
      # enough capacity that the async operator, as reported by pending_requests
      # guage, stays fully occupied while backfilling.
      fetch-retry-queue-capacity: 250
      wikiids:

discovery:
  listeners:
    - mw-api-int-async-ro
    - schema
    - thanos-swift # cluster for checkpoints

mesh:
  concurrency: 2 # https://phabricator.wikimedia.org/T353460#9437962
