# This is before coredns works, we can't rely on internal DNS, so use the external one
kubernetesApi:
  host: ml-ctrl.svc.eqiad.wmnet
  port: 6443

BGPConfiguration:
  asNumber: 64606
  nodeToNodeMeshEnabled: false

BGPPeers:
  cr1-eqiad-ipv4:
    asNumber: 14907
    peerIP: "208.80.154.196"
    nodeSelector: (failure-domain.beta.kubernetes.io/region == 'eqiad' && failure-domain.beta.kubernetes.io/zone in { 'row-a', 'row-b', 'row-c', 'row-d' }) || has(node-role.kubernetes.io/master)
  cr2-eqiad-ipv4:
    asNumber: 14907
    peerIP: "208.80.154.197"
    nodeSelector: (failure-domain.beta.kubernetes.io/region == 'eqiad' && failure-domain.beta.kubernetes.io/zone in { 'row-a', 'row-b', 'row-c', 'row-d' }) || has(node-role.kubernetes.io/master)
  cr1-eqiad-ipv6:
    asNumber: 14907
    peerIP: "2620:0:861:ffff::1"
    nodeSelector: (failure-domain.beta.kubernetes.io/region == 'eqiad' && failure-domain.beta.kubernetes.io/zone in { 'row-a', 'row-b', 'row-c', 'row-d' }) || has(node-role.kubernetes.io/master)
  cr2-eqiad-ipv6:
    asNumber: 14907
    peerIP: "2620:0:861:ffff::2"
    nodeSelector: (failure-domain.beta.kubernetes.io/region == 'eqiad' && failure-domain.beta.kubernetes.io/zone in { 'row-a', 'row-b', 'row-c', 'row-d' }) || has(node-role.kubernetes.io/master)
  lsw1-e2-eqiad-ipv4:
    node: ml-serve1005.eqiad.wmnet
    asNumber: 14907
    peerIP: 10.64.131.1
  lsw1-e2-eqiad-ipv6:
    node: ml-serve1005.eqiad.wmnet
    asNumber: 14907
    peerIP: 2620:0:861:10a::1
  lsw1-e3-eqiad-ipv4:
    node: ml-serve1006.eqiad.wmnet
    asNumber: 14907
    peerIP: 10.64.132.1
  lsw1-e3-eqiad-ipv6:
    node: ml-serve1006.eqiad.wmnet
    asNumber: 14907
    peerIP: 2620:0:861:10b::1
  lsw1-f2-eqiad-ipv4:
    node: ml-serve1007.eqiad.wmnet
    asNumber: 14907
    peerIP: 10.64.135.1
  lsw1-f2-eqiad-ipv6:
    node: ml-serve1007.eqiad.wmnet
    asNumber: 14907
    peerIP: 2620:0:861:10e::1
  lsw1-f3-eqiad-ipv4:
    node: ml-serve1008.eqiad.wmnet
    asNumber: 14907
    peerIP: 10.64.136.1
  lsw1-f3-eqiad-ipv6:
    node: ml-serve1008.eqiad.wmnet
    asNumber: 14907
    peerIP: 2620:0:861:10f::1

IPPools:
  ipv4:
    cidr: "10.67.16.0/21"
  ipv6:
    cidr: "2620:0:861:300::/64"
