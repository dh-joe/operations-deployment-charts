prometheusScrape: false
image:
  registry: docker-registry.discovery.wmnet
  repository: kube-state-metrics
  pullPolicy: IfNotPresent

collectors:
  - cronjobs
  - daemonsets
  - deployments
  - jobs
  - leases
  - mutatingwebhookconfigurations
  - namespaces
  - nodes
  - poddisruptionbudgets
  - pods
  - replicasets
  - replicationcontrollers
  - statefulsets
  - validatingwebhookconfigurations

# Metrics to be disabled. Exact metric names and/or regex patterns.
# The allowlist and denylist are mutually exclusive.
metricDenylist:
  - kube_pod_status_qos_class
  - kube_pod_ips
  - kube_pod_tolerations

podAnnotations:
  prometheus.io/scrape: "true"

networkPolicy:
  enabled: true
  flavor: kubernetes

  # egress is cluster-specific, set in admin_ng/values/<environment>

  # FIXME the default ingress policy allows unrestricted access to the metrics and self-metrics
  # ports, should be prometheus only

# The chart uses `namespaces` to configure namespaces to be enabled for collecting resources. We
# need to set this here to override the global variable set in admin_ng/values/<environment>. Empty
# string => all namespaces.
namespaces: ""

resources:
  limits:
   cpu: 200m
   memory: 256Mi
  requests:
   cpu: 50m
   memory: 128Mi

selfMonitor:
  enabled: true
